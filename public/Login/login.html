<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <link rel="stylesheet" type="text/css" href="../css/login.css" />
  <style>
    #hiddenImg {
      height: 700px;
      width: 700px;
      display: flex;
      margin-left: 122px;
      /* justify-content: space-evenly; */
    }

    @media screen and (max-width: 568px) {

      /* Hide specific elements by setting their display to none */
      .header,
      .web-text,
      .right-text,
      #onlineTest,
      #ebookBtn,
      #hiddenImg {
        display: none;
      }

    }
  </style>
</head>

<body>
  <div class="container">
    <div class="left-content animate__animated animate__zoomIn animate__faster">
      <h1 style="font-family: 'Open Sans', sans-serif; font-size: 30px;">Login</h1>

      <h2 style="color: #083b5d; font-family: sans-serif; font-size: 25px;">Research Innovation & Discovery</h2>
      <div class="inner-div">
        <form id="loginForm" action="/auth/login" method="POST" >
          <label for="loginEmail">Enter Email Address:</label>
          <input type="text" id="loginEmail" name="email" placeholder="Enter your email address" />
          <!-- Ankit kumar -->

          <label for="password">Enter Password:</label>
          <input type="password" id="password" name="password" placeholder="Enter your password" required
            oncopy="return false" oncut="return false" onpaste="return false" />
          <span id="error-message" style="color: red;"></span>

          <a href="/forgot-password" style="text-decoration: none;
       color: #083b5d;
       text-align: right;
       font-family: sans-serif;
       font-size: 13px;
       ">Forgot Password?</a>


          <button type="submit" style="border-radius: 4px;
      background-color: #083b5d; 
      font-size: 13px;
      font-family: sans-serif;">Login</button>
        </form>
       <p>
  Don't have account please 
  <a href="/Signup/form.html" style="color: #083b5d; text-decoration: underline;">Create an account</a>
</p>
      </div>
      <div class="footer">
        <p class="text">
          Copyright Â©<span id="currentYear"></span>, RID | TWF (TWKSAA WELFARE FOUNDATION). All Rights
          Reserved.
        </p>
        <div class="links">
          <a href="#" style="color: #083b5d; text-decoration: underline;">About</a> | <a href="#"
            style="color: #083b5d; text-decoration: underline;">Terms & Conditions</a> |
          <a href="#" style="color: #083b5d; text-decoration: underline;">Privacy Policy</a> | <a href="#"
            style="color: #083b5d; text-decoration: underline;">Feedback</a>
        </div>
      </div>
    </div>
  </div>
  <div id="hiddenImg">
    <img src="../assets/images/login_image.png" alt="images">
  </div>


  <!-- JavaScript should be placed at the end of the body -->
  <script>
    // Set current year
    document.addEventListener('DOMContentLoaded', function () {
      var currentYear = new Date().getFullYear();
      document.getElementById('currentYear').textContent = currentYear;

      // Forgot password button handler
      const forgotPass = document.getElementById('forgotPass');
      if (forgotPass) {
        forgotPass.addEventListener('click', () => {
          window.location.href = '/forgot-password';
        });
      }

      // Forgot password form submission handler
      const forgotPasswordForm = document.getElementById('forgotPasswordForm');
      if (forgotPasswordForm) {
        forgotPasswordForm.addEventListener('submit', async (event) => {
          event.preventDefault();
          const email = document.getElementById('forgotEmail').value;

          try {
            const response = await fetch('/api/auth/forgot-password', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({ email })
            });
            const result = await response.json();

            if (response.ok) {
              alert(result.message);
            } else {
              alert(result.message);
            }
          } catch (error) {
            alert('Error sending reset email.');
          }
        });
      }
    });
  </script>
  <script src="../js/showToast.js"></script>
</body>

</html>